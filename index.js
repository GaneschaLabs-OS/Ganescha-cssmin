var _compressHexColors=function(e){for(var r,_=/(\=\s*?["']?)?#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])(\}|[^0-9a-f{][^{]*?\})/gi,a=0,t=[];null!==(r=_.exec(e));)t.push(e.substring(a,r.index)),r[1]?t.push(r[1]+"#"+(r[2]+r[3]+r[4]+r[5]+r[6]+r[7])):r[2].toLowerCase()===r[3].toLowerCase()&&r[4].toLowerCase()===r[5].toLowerCase()&&r[6].toLowerCase()===r[7].toLowerCase()?t.push("#"+(r[3]+r[5]+r[7]).toLowerCase()):t.push("#"+(r[2]+r[3]+r[4]+r[5]+r[6]+r[7]).toLowerCase()),a=_.lastIndex=_.lastIndex-r[8].length;return t.push(e.substring(a)),t.join("")},_extractDataUrls=function(e,r){for(var _,a,t,n,s,o,l,i=e.length-1,c=0,g=[],p=/url\(\s*(["']?)data\:/g;null!==(s=p.exec(e));){for(_=s.index+4,0===(t=s[1]).length&&(t=")"),n=!1,a=p.lastIndex-1;!1===n&&a+1<=i;)(a=e.indexOf(t,a+1))>0&&"\\"!==e.charAt(a-1)&&(n=!0,")"!==t&&(a=e.indexOf(")",a)));g.push(e.substring(c,s.index)),n?(l=(l=e.substring(_,a)).replace(/\s+/g,""),r.push(l),o="url(___YUICSSMIN_PRESERVED_TOKEN_"+(r.length-1)+"___)",g.push(o),c=a+1):(g.push(e.substring(s.index,p.lastIndex)),c=p.lastIndex)}return g.push(e.substring(c)),g.join("")};modules.export=function(e,r){var _=0,a=0,t=0,n=0,s=[],o=[],l="",i=e.length,c="";for(e=_extractDataUrls(e,s);(_=e.indexOf("/*",_))>=0;)(a=e.indexOf("*/",_+2))<0&&(a=i),l=e.slice(_+2,a),o.push(l),e=e.slice(0,_+2)+"___YUICSSMIN_PRESERVE_CANDIDATE_COMMENT_"+(o.length-1)+"___"+e.slice(a),_+=2;for(e=e.replace(/("([^\\"]|\\.|\\)*")|('([^\\']|\\.|\\)*')/g,function(e){var r,_,a=e.substring(0,1);if((e=e.slice(1,-1)).indexOf("___YUICSSMIN_PRESERVE_CANDIDATE_COMMENT_")>=0)for(r=0,_=o.length;r<_;r+=1)e=e.replace("___YUICSSMIN_PRESERVE_CANDIDATE_COMMENT_"+r+"___",o[r]);return e=e.replace(/progid:DXImageTransform\.Microsoft\.Alpha\(Opacity=/gi,"alpha(opacity="),s.push(e),a+"___YUICSSMIN_PRESERVED_TOKEN_"+(s.length-1)+"___"+a}),t=0,n=o.length;t<n;t+=1)c="___YUICSSMIN_PRESERVE_CANDIDATE_COMMENT_"+t+"___","!"!==(l=o[t]).charAt(0)?"\\"!==l.charAt(l.length-1)?(0===l.length&&(_=e.indexOf(c))>2&&">"===e.charAt(_-3)&&(s.push(""),e=e.replace(c,"___YUICSSMIN_PRESERVED_TOKEN_"+(s.length-1)+"___")),e=e.replace("/*"+c+"*/","")):(s.push("\\"),e=e.replace(c,"___YUICSSMIN_PRESERVED_TOKEN_"+(s.length-1)+"___"),t+=1,s.push(""),e=e.replace("___YUICSSMIN_PRESERVE_CANDIDATE_COMMENT_"+t+"___","___YUICSSMIN_PRESERVED_TOKEN_"+(s.length-1)+"___")):(s.push(l),e=e.replace(c,"___YUICSSMIN_PRESERVED_TOKEN_"+(s.length-1)+"___"));if(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\s+/g," ")).replace(/(^|\})(([^\{:])+:)+([^\{]*\{)/g,function(e){return e.replace(/\:/g,"___YUICSSMIN_PSEUDOCLASSCOLON___")})).replace(/\s+([!{};:>+\(\)\],])/g,"$1")).replace(/___YUICSSMIN_PSEUDOCLASSCOLON___/g,":")).replace(/:first-(line|letter)(\{|,)/g,":first-$1 $2")).replace(/\*\/ /g,"*/")).replace(/^(.*)(@charset "[^"]*";)/gi,"$2$1")).replace(/^(\s*@charset [^;]+;\s*)+/gi,"$1")).replace(/\band\(/gi,"and (")).replace(/([!{}:;>+\(\[,])\s+/g,"$1")).replace(/;+\}/g,"}")).replace(/([\s:])(0)(px|em|%|in|cm|mm|pc|pt|ex)/gi,"$1$2")).replace(/:0 0 0 0(;|\})/g,":0$1")).replace(/:0 0 0(;|\})/g,":0$1")).replace(/:0 0(;|\})/g,":0$1")).replace(/(background-position|transform-origin|webkit-transform-origin|moz-transform-origin|o-transform-origin|ms-transform-origin):0(;|\})/gi,function(e,r,_){return r.toLowerCase()+":0 0"+_})).replace(/(:|\s)0+\.(\d+)/g,"$1.$2")).replace(/rgb\s*\(\s*([0-9,\s]+)\s*\)/gi,function(){var e,r=arguments[1].split(",");for(e=0;e<r.length;e+=1)r[e]=parseInt(r[e],10).toString(16),1===r[e].length&&(r[e]="0"+r[e]);return"#"+r.join("")}),e=(e=(e=(e=_compressHexColors(e)).replace(/(border|border-top|border-right|border-bottom|border-right|outline|background):none(;|\})/gi,function(e,r,_){return r.toLowerCase()+":0"+_})).replace(/progid:DXImageTransform\.Microsoft\.Alpha\(Opacity=/gi,"alpha(opacity=")).replace(/[^\};\{\/]+\{\}/g,""),r>=0)for(_=0,t=0;t<e.length;)"}"===e[(t+=1)-1]&&t-_>r&&(e=e.slice(0,t)+"\n"+e.slice(t),_=t);for(e=e.replace(/;;+/g,";"),t=0,n=s.length;t<n;t+=1)e=e.replace("___YUICSSMIN_PRESERVED_TOKEN_"+t+"___",s[t]);return e=e.replace(/^\s+|\s+$/g,"")};
